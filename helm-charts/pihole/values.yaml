timezone: "Europe/London"
adminPassword: "pihole" # Change this!

# Network Strategy
hostNetwork: true

# Ingress Configuration (Matches the GitHub Template)
ingress:
  enabled: true
  ingressClassName: nginx
  path: /
  pathType: Prefix
  hosts:
    - pi.hole
  annotations:
    # Forces Pi-hole v6 to recognize the domain coming through Nginx
    nginx.ingress.kubernetes.io/upstream-vhost: "pi.hole"
    nginx.ingress.kubernetes.io/proxy-set-headers: "Host=pi.hole"
    nginx.ingress.kubernetes.io/configuration-snippet: |
      proxy_set_header Host "pi.hole";

# Official v6.4.1 FTLCONF keys from the Dec 2025 Docs
extraEnv:
  FTLCONF_dns_listeningMode: "ALL"
  FTLCONF_dns_hostRecord: "false"
  FTLCONF_webserver_serve_all: "true"
  FTLCONF_webserver_domain: "pi.hole"

# Hardware Permissions
securityContext:
  privileged: true
  capabilities:
    add: ["NET_ADMIN", "SYS_TIME", "SYS_NICE", "CHOWN"]

persistence:
  storageClass: "local-path"
  pihole:
    size: 2Gi
  dnsmasq:
    size: 1Gi